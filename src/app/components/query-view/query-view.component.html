<div *ngIf="!adv" class="search-wrapper">
    <mat-form-field class="main-search">
        <input #name (keyup.enter)="simpleQuery()" 
            matInput 
            placeholder="Search a name" 
            [(ngModel)]="params.name"
            [formControl]="searchTerm"
            [matAutocomplete]="auto">
        <mat-autocomplete #auto="matAutocomplete">
            <mat-option *ngFor="let item of searchResult" [value]="item">
                {{item}}
            </mat-option>
        </mat-autocomplete>
    </mat-form-field>
    <button (click)="simpleQuery()" mat-button>Search</button>
    <button (click)="advanced()" class="advanced-button" mat-button>Advanced Search</button>
</div>

<div *ngIf="adv" class="adv-wrapper">
    <div class="parameter-selection">
        <h3 class="mat-h3">Name: </h3>

        <mat-form-field>
            <input matInput placeholder="Search a name" [(ngModel)]="params.name" </mat-form-field>
    </div>

    <div class="parameter-selection">
        <h3 class="mat-h3">Source: </h3>
        <mat-form-field>
            <input matInput placeholder="Search a source" [(ngModel)]="params.source">
        </mat-form-field>
    </div>

    <div class="parameter-selection">
        <h3 class="mat-h3">Source ID: </h3>
        <mat-form-field>
            <input matInput placeholder="Search a source ID" [(ngModel)]="params.sourceId">
        </mat-form-field>
    </div>

    <div class="parameter-selection">
        <h3 class="mat-h3">Source Version: </h3>
        <mat-form-field>
            <input matInput placeholder="Search a source Version" [(ngModel)]="params.sourceVersion">
        </mat-form-field>
    </div>

    <div class="parameter-selection">
        <h3 class="mat-h3">Long Name: </h3>
        <mat-form-field>
            <input matInput placeholder="Search a Long Name" [(ngModel)]="params.longName">
        </mat-form-field>
    </div>

    <div class="parameter-selection">
        <h3 class="mat-h3">Source ID Version: </h3>
        <mat-form-field>
            <input matInput placeholder="Search a source ID Version" [(ngModel)]="params.sourceIdVersion">
        </mat-form-field>
    </div>

    <div class="parameter-selection">
        <h3 class="mat-h3">Limit: </h3>
        <mat-form-field>
            <input matInput placeholder="choose a limit" [(ngModel)]="params.limit">
        </mat-form-field>
    </div>

    <!-- <input matInput placeholder="what return properties" [(ngModel)]="params.returnProperties"> -->
    <div class="parameter-selection">
        <h3 class="mat-h3">Return Properties: </h3>
        <div class="checkboxes">
            <div class="checkbox" *ngFor="let p of propKeys">
                <mat-checkbox [(ngModel)]="properties[p]" disableRipple='true'>{{p | camelCase}}</mat-checkbox>
            </div>
        </div>
    </div>
    <!-- add breakpoint for checkboxes -->

    <!--dropdown-->
    <div class="parameter-selection">
        <h3 class="mat-h3">Ancestors: </h3>
        <mat-form-field>
            <input matInput [(ngModel)]="params.ancestors">
        </mat-form-field>
    </div>

    <div class="parameter-selection">
        <h3 class="mat-h3">Descendants: </h3>
        <mat-form-field>
            <input matInput [(ngModel)]="params.descendants">
        </mat-form-field>
    </div>

    <div class="parameter-selection">
        <h3 class="mat-h3">Fuzzy Match: </h3>
        <mat-form-field>
            <input matInput [(ngModel)]="params.fuzzyMatch">
        </mat-form-field>
    </div>

    <button mat-button (click)="advanced()">Back</button>
    <button (click)="query()" mat-button>Search</button>
</div>